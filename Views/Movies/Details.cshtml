@model IEnumerable<CinemaApp.ViewModels.MovieGenreViewModel>


@foreach (var movie in Model)
{

    @: @{
        var photoPath = "~/Photo/" + (movie.Movie.PhotoPath ?? "noimage.jpg");
    }


    <div class="jumbotron">
        <div class="row">
            <div class="col-xl-4 col-md-6 offset-md-3 offset-lg-0 text-center">
                <img class="img-fluid jumbo-image" style="max-height: 100px;min-height: 430px;" src="@photoPath" asp-append-version="true" alt="movie image-cap" />
                <br class="d-lg-none" /><br class="d-lg-none" />
            </div>
            <div class="col">
                <h1 class="display-4">@movie.Name</h1>
                <hr class="my-4">
                <span>
                    @if (movie.Description.Count() > 500)
                    {

                        <a class="btn btn-primary btn-sm m-1" role="button" data-toggle="modal" data-target="#description-modal">Read more</a>

                    }
                    else
                    {
                        @movie.Description
                    }
                </span>
                <br /><br />

                <p><strong>Director: </strong><a> Chritian Garcia </a></p>
                <p>
                    <strong> Genres: </strong>
                    @foreach (var genre in movie.GenreNames)
                     {
                    <a class="badge badge-secondary">@genre</a>
                     }
                </p>


                <p><strong>Release Date: </strong>@movie.ReleaseDate</p>

                <p><strong>Runtime: </strong>@movie.Duration</p>

                <div class="d-flex align-items-center mt-4">
                    <a class="btn btn-primary mr-3" href="#" role="button" data-toggle="modal" data-target="#watch-modal">Watch Thriler</a>

                    <a class="btn btn-info mr-3" asp-action="ListOfSeats" asp-controller="Seats" asp-route-id="@movie.MovieID">
                        Rezervă
                    </a>

                    <a class=" ml-auto btn btn-success mr-3" asp-action="Index">Inapoi la filme</a>

                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="watch-modal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title"> @movie.Name</h2>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="embed-responsive embed-responsive-16by9">
                        <div class="video" id="trailer">
                            <script>
                              setTimeout(function () {
                                searchMovie('@movie.Name')
                                debugger;
                                }, 500);
                            </script>


                        </div>
                    </div>
                    <br />
                    <p>
                        <strong>Descriere </strong>@movie.Description
                    </p>
                </div>
            </div>
        </div>
    </div>
}





<style>

    .jumbotron {
        padding: 42px;
    }

    .jumbo-image {
        cursor: pointer;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    }
    .badge-secondary {
        color : #fff !important;
    }


</style>


























@*@{
        ViewData["Title"] = "Details";
    }

    <h1>Details</h1>

    <div>
        <h4>Movie</h4>
        <hr />
        <dl class="row">
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Name)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Name)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Description)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Description)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.DateAdded)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.DateAdded)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.ReleaseDate)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.ReleaseDate)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Genre)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Genre.Id)
            </dd>
        </dl>
    </div>
    <div>
        <a asp-action="Edit" asp-route-id="@Model.ID">Edit</a> |
        <a asp-action="Index">Back to List</a>
    </div>*@
